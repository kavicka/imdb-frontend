<ion-header>
  <ion-toolbar>
    <ion-title>
      IMDBish
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-card>
    <ion-card-header>
      <ion-card-title>Sign in</ion-card-title>
      <ion-card-subtitle>Please sing in to access in adding movies</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-label position="stacked" type="text">Email <ion-text color="danger">*</ion-text></ion-label>
      <ion-input [(ngModel)]="email" required type="email"></ion-input>

      <ion-label position="stacked" type="text">Password <ion-text color="danger">*</ion-text></ion-label>
      <ion-input [(ngModel)]="password" required type="password"></ion-input>

      <p>Click the button</p>

      <ion-button expand="block" (click)="login(email,password)" color="success">Log In</ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-card-content>
        <ion-item>
          <ion-label position="floating">Name</ion-label>
          <ion-input [(ngModel)]="newMovie.name" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Director</ion-label>
          <ion-input [(ngModel)]="newMovie.director" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Year</ion-label>
          <ion-input [(ngModel)]="newMovie.year" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Description</ion-label>
          <ion-input [(ngModel)]="newMovie.description" required></ion-input>
        </ion-item>
        <ion-button (click)="addMovie()">Add movie</ion-button>
      </ion-card-content>
    </ion-card-content>
  </ion-card>
  <div *ngFor="let movie of movies">
    <ion-card>
      <ion-card-content>
        <ion-card-header>
          <ion-card-subtitle>{{movie.director}}</ion-card-subtitle>
          <ion-card-subtitle>{{movie.year}}</ion-card-subtitle>
          <ion-card-title>{{movie.name}}</ion-card-title>
        </ion-card-header>

        <ion-card-content>
          {{movie.description}}
          <!-- <div>Movie ratings: {{getRatingAverage(movie.ratings)}}</div> -->
        </ion-card-content>
        <!-- <select [(ngModel)]="newRating">
          <option [ngValue]="1">1</option>
          <option [ngValue]="2">2</option>
          <option [ngValue]="3">3</option>
          <option [ngValue]="4">4</option>
          <option [ngValue]="5">5</option>
        </select> -->
        <!-- <button (click)="rateMovie(movie.id)">Submit rating</button> -->
        <button (click)="removeMovie(movie.id)">Delete</button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>